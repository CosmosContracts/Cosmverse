{"ast":null,"code":"import Axios from 'axios';\nexport function unSanitizeIpfsUrl(url) {\n  return `ipfs://${url}`;\n}\nexport function publicIpfsUrl(url) {\n  return `https://cloudflare-ipfs.com/ipfs/${url.replace('ipfs://', '')}`;\n}\nexport async function uploadFile(file) {\n  const formData = new FormData();\n  formData.append('file', file);\n  const SLATE_URL = \"https://uploads.slate.host/api/public\";\n  const {\n    status,\n    data\n  } = await Axios.post(SLATE_URL, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      Authorization: `Basic ${process.env.REACT_APP_SLATE_KEY}`\n    }\n  });\n\n  if (status < 400) {\n    return data.data.cid;\n  } else {\n    throw new Error('Unable to PIN for reasons');\n  }\n}","map":{"version":3,"sources":["/Users/pauloponciano/Documents/cosmverse/src/App/services/ipfs/client.ts"],"names":["Axios","unSanitizeIpfsUrl","url","publicIpfsUrl","replace","uploadFile","file","formData","FormData","append","SLATE_URL","status","data","post","headers","Authorization","process","env","REACT_APP_SLATE_KEY","cid","Error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,iBAAT,CAA2BC,GAA3B,EAAwC;AAC7C,SAAQ,UAASA,GAAI,EAArB;AACD;AAED,OAAO,SAASC,aAAT,CAAuBD,GAAvB,EAAoC;AACzC,SAAQ,oCAAmCA,GAAG,CAACE,OAAJ,CAAY,SAAZ,EAAuB,EAAvB,CAA2B,EAAtE;AACD;AAED,OAAO,eAAeC,UAAf,CAA0BC,IAA1B,EAAuD;AAC5D,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBH,IAAxB;AAEA,QAAMI,SAAS,GAAG,uCAAlB;AAEA,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAmB,MAAMZ,KAAK,CAACa,IAAN,CAAWH,SAAX,EAAsBH,QAAtB,EAAgC;AAC7DO,IAAAA,OAAO,EAAE;AACP,sBAAgB,qBADT;AAEPC,MAAAA,aAAa,EAAG,SAAQC,OAAO,CAACC,GAAR,CAAYC,mBAAoB;AAFjD;AADoD,GAAhC,CAA/B;;AAOA,MAAIP,MAAM,GAAG,GAAb,EAAkB;AAChB,WAAOC,IAAI,CAACA,IAAL,CAAUO,GAAjB;AACD,GAFD,MAEO;AACL,UAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;AACD;AACF","sourcesContent":["import Axios from 'axios';\n\nexport function unSanitizeIpfsUrl(url: string) {\n  return `ipfs://${url}`;\n}\n\nexport function publicIpfsUrl(url: string) {\n  return `https://cloudflare-ipfs.com/ipfs/${url.replace('ipfs://', '')}`;\n}\n\nexport async function uploadFile(file: Blob): Promise<string> {\n  const formData = new FormData();\n  formData.append('file', file);\n\n  const SLATE_URL = \"https://uploads.slate.host/api/public\";\n\n  const { status, data } = await Axios.post(SLATE_URL, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      Authorization: `Basic ${process.env.REACT_APP_SLATE_KEY}`\n    }\n  });\n\n  if (status < 400) {\n    return data.data.cid;\n  } else {\n    throw new Error('Unable to PIN for reasons');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}